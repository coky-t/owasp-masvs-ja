# V5: ネットワーク通信要件

## 管理目標

モバイルアプリとリモートサービスのエンドポイント間で交換される情報の機密性と完全性を確認することがこのコントロールの目的です。少なくとも、モバイルアプリは適切な設定でのTLSプロトコルを使用したネットワーク通信の安全な暗号化されたチャネルを設定する必要があります。レベル2以上では SSL pinning などの追加の多層防御施策が必要とされます。

## セキュリティ検証要件

| # | 説明 | 1 | 2 |
| --- | --- | --- | --- |
| **5.1** | データはネットワーク上でTLSを使用して暗号化されている。セキュアチャネルがアプリ全体を通して一貫して使用されている。 | ✓ | ✓ |
| **5.2** | TLS 設定は現在のベストプラクティスと一致している。モバイルオペレーティングシステムが推奨された標準をサポートしていない場合には可能な限り近い状態である。 | ✓ | ✓ |
| **5.3** | セキュアチャネルが確立されたときに、アプリはリモートエンドポイントのX.509証明書を確認している。有効なCAにより署名された証明書のみが受け入れられている。 | ✓ | ✓ |
| **5.4** | アプリは独自の証明書ストアを使用するか、エンドポイント証明書もしくは公開鍵を固定化しており、信頼できるCAにより署名された場合でも、別の証明書や鍵を提供するエンドポイントとの接続を確立していない。 |   | ✓ |
| **5.5** | アプリは登録やアカウントリカバリーなどの重要な操作において（電子メールやSMSなどの）一つの安全でない通信チャネルに依存していない。 |  | ✓ |

## 参考情報

OWASP モバイルセキュリティテストガイドには、このセクションに記載されている要件を検証するための詳細な手順を提供しており、モバイルオペレーティングシステムによるベストプラクティスも同様に記されています。

(...TODO... link this to v1.0 instead of master once tagged).

- Android - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x05g-Testing-Network-Communication.md
- iOS - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x06g-Testing-Network-Communication.md

詳しくは以下の情報を参照してください。

- OWASP Mobile Top 10:  M3 - 安全でない通信
- CWE: https://cwe.mitre.org/data/definitions/319.html
- CWE: https://cwe.mitre.org/data/definitions/295.html
